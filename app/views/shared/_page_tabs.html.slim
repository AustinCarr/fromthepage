-tabs = [{\
  :name => 'Page',
  :selected => 1,
  :options => {\
    :controller => 'display',
    :action => 'display_page',
  },
},{\
  :name => 'Transcribe',
  :selected => 3,
  :options => {\
    :controller => 'transcribe',
    :action => 'display_page',
  },
}]

-if @work.supports_translation
  -tabs += [{\
    :name => 'Translate',
    :selected => 6,
    :options => {\
      :controller => 'transcribe',
      :action => 'translate',
    },
  }]

-tabs += [{\
  :name => 'Versions',
  :selected => 2,
  :options => {\
    :controller => 'page_version',
    :action => 'list',
  },
}]

-if @work.owner == current_user
  -tabs += [{\
    :name => 'Settings',
    :selected => 4,
    :options => {\
      :controller => 'page',
      :action => 'edit',
    },
  },{\
    :name => 'Image',
    :selected => 5,
    :options => {\
      :controller => 'page',
      :action => 'image_tab',
    },
  }]


.tabs
  -for tab in tabs
    =link_to_unless tab[:selected] == selected, tab[:name], tab[:options].merge(:page_id => page_id)
      a.active =tab[:name]

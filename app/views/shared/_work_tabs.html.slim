-tabs = [{\
  :name => 'Read',
  :options => {\
    :controller => 'display',
    :action => 'read_work',
  },
},{\
  :name => 'Contents',
  :options => {\
    :controller => 'display',
    :action => 'list_pages',
  },
},{\
  :name => 'About',
  :options => {\
    :controller => 'work',
    :action => 'show',
  },
},{\
  :name => 'Versions',
  :options => {\
    :controller => 'work',
    :action => 'versions',
  },
}]

-if session[:demo_mode]
  -tabs += [{\
    :name => 'Print',
    :options => {\
      :controller => 'print',
      :action => 'work',
    },
  }]

-if @work.owner == current_user
  -tabs += [{\
    :name => 'Settings',
    :options => {\
      :controller => 'work',
      :action => 'edit',
    },
  },{\
    :name => 'Access',
    :options => {\
      :controller => 'work',
      :action => 'scribes_tab',
    },
  },{\
    :name => 'Pages',
    :options => {\
      :controller => 'work',
      :action => 'pages_tab',
    },
  }]

-tabs += [{\
  :name => 'Help',
  :options => {\
    :controller => 'static',
    :action => 'transcribe_help',
  },
}]


.tabs
  -for tab in tabs
    =link_to_unless_current tab[:name], tab[:options].merge(:work_id => work_id)
      a.active =tab[:name]
